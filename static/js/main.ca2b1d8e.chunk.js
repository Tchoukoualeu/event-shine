(this["webpackJsonpflutter-spark-project"]=this["webpackJsonpflutter-spark-project"]||[]).push([[0],{127:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var a,r=n(10),i=n(0),c=n.n(i),o=n(14),s=n.n(o),u=(n(127),n(19)),l=n(45),d={firstName:{onValidate:["required"],valid:!0,text:[]},lastName:{onValidate:["required"],valid:!0,text:[]},email:{onValidate:["required","email"],valid:!0,text:[]}},f=Object(l.c)({name:"valid",initialState:d,reducers:{setValid:{reducer:function(e,t){var n=t.payload,a=n.field,r=n.value;e[a].valid=r.valid,r.valid?e[a].text=[]:-1===e[a].text.indexOf(r.text)&&e[a].text.push(r.text)},prepare:function(e,t){return{payload:{field:e,value:t}}}},resetValid:function(){return d}}}),j=f.actions,b=j.setValid,v=j.resetValid,p=f.reducer,O=n(27),m=n(93),x=n.n(m),h=n(94),g=n.n(h),y=n(95),C=n.n(y),k={isValidDate:function(e){return x()(e)},isEmptyField:function(e){return g()(e,{ignore_whitespace:!0})},required:function(e){var t=!k.isEmptyField(e);return Object(O.a)({valid:t},{text:t?void 0:"This field is required."})},email:function(e){var t=C()(e);return Object(O.a)({valid:t},{text:t?void 0:"The email is invalid."})}},w=k,E=n(190),N=n(201),S=Object(E.a)((function(e){return{root:{backgroundColor:e.palette.background.paper}}})),V=function(e){var t=e.id,n=e.label,a=e.onChange,i=e.placeholder,c=void 0!==i&&i,o=S(),s=Object(u.b)(),l=Object(u.c)((function(e){return e.form.data.values[t]})),d=function(e){return Object(u.c)((function(t){return"undefined"===typeof t.form.valid[e]?void 0:Object(O.a)(Object(O.a)({},t.form.valid[e]),{},{text:t.form.valid[e].text.length?t.form.valid[e].text.join(" "):""})}))}(t),f=!!d,j=f&&!d.valid;return Object(r.jsx)(N.a,{inputProps:{className:o.root},error:j,helperText:j&&d.text,fullWidth:!0,id:t,label:n,onBlur:function(){f&&d.onValidate.forEach((function(e){s(b(t,w[e](l)))}))},onChange:a,placeholder:c||n,required:f,value:l,variant:"outlined"})},D=n(48),F=n(77),T=n.n(F),q=n(97),I=n(100),M=n(98),R=function(e){return M.post("https://event-backend-nodejs.glitch.me/save",Object(O.a)({},e)).then((function(e){return e.status})).catch((function(e){throw new Error(e)}))},z="IDLE",B="SAVING",W="ERROR",J="SUCCESS",L={firstName:"",lastName:"",email:"",date:(new Date).getTime()},P={values:L,status:z},A=Object(l.b)("status/saveData",function(){var e=Object(q.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(Object(O.a)(Object(O.a)({},t),{},{date:new Date(Object(I.a)(new Date(t.date),"yyyy-MM-dd")).toISOString()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=Object(l.c)({name:"data",initialState:P,reducers:{saveField:{reducer:function(e,t){var n=t.payload,a=n.field,r=n.value;e.values[a]=r},prepare:function(e,t){return{payload:{field:e,value:t}}}},resetForm:function(e){e.values=L},resetStatus:function(e){e.status=z}},extraReducers:(a={},Object(D.a)(a,A.pending,(function(e){e.status=B})),Object(D.a)(a,A.fulfilled,(function(e){e.values=L,e.status=J})),Object(D.a)(a,A.rejected,(function(e){e.status=W})),a)}),H=G.actions,U=H.saveField,_=H.resetForm,K=H.resetStatus,Q=G.reducer,X=n(99),Y=n(20),Z=n(202),$=Object(E.a)((function(e){return{root:{backgroundColor:e.palette.background.paper}}})),ee=function(){var e=$(),t=Object(u.b)(),n=Object(u.c)((function(e){return e.form.data.values.date}));return Object(r.jsx)(Y.a,{utils:X.a,children:Object(r.jsx)(Z.a,{fullWidth:!0,inputProps:{className:e.root},variant:"inline",format:"dd/MM/yyyy",id:"date",label:"Date",value:n,onChange:function(e){var n=w.isValidDate(e)?new Date(e).getTime():(new Date).getTime();t(U("date",n))},required:!0})})},te=n(203),ne=n(195),ae=Object(E.a)((function(e){return{root:{maxWidth:"500px","& > *":{margin:e.spacing(1)}},date:{backgroundColor:e.palette.background.paper}}})),re=function(){var e=ae(),t=Object(u.c)((function(e){return e.form})),n=t.data.values,a=t.valid,i=Object(u.b)(),c=function(e){i(U(e.target.id,e.target.value))};return Object(r.jsxs)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:[Object(r.jsx)(V,{id:"firstName",label:"First Name",onChange:c}),Object(r.jsx)(V,{id:"lastName",label:"Last Name",onChange:c}),Object(r.jsx)(V,{id:"email",label:"Email",onChange:c}),Object(r.jsx)(ee,{}),Object(r.jsxs)(te.a,{display:"flex",justifyContent:"space-evenly",children:[Object(r.jsx)(ne.a,{variant:"contained",size:"large",onClick:function(){i(_()),i(v())},children:"Reset"}),Object(r.jsx)(ne.a,{variant:"contained",size:"large",color:"primary",onClick:function(){Object.keys(n).forEach((function(e){"undefined"!==typeof a[e]&&a[e].onValidate.forEach((function(t){i(b(e,w[t](n[e])))}))})),Object.keys(a).every((function(e){return a[e].valid&&!w.isEmptyField(n[e])}))&&i(A(n))},children:"Submit"})]})]})},ie=n(194),ce=n(198),oe=Object(E.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),se=function(e){var t=e.open,n=oe();return Object(r.jsx)(ie.a,{className:n.backdrop,open:t,children:Object(r.jsx)(ce.a,{color:"inherit"})})},ue=n(205),le=n(204),de=Object(E.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),fe=function(e){var t=e.isOpen,n=e.severity,a=e.message,i=e.onClose,c=de();return Object(r.jsx)("div",{className:c.root,children:Object(r.jsx)(ue.a,{open:t,autoHideDuration:5e3,onClose:i,children:Object(r.jsx)(le.a,{elevation:6,variant:"filled",severity:n,onClose:i,children:a})})})};function je(e){var t=e.isOpen,n=e.onClose;return Object(r.jsx)(fe,{isOpen:t,severity:"error",message:"Something went wrong!",onClose:n})}function be(e){var t=e.isOpen,n=e.onClose;return Object(r.jsx)(fe,{isOpen:t,severity:"success",message:"The Event was successfully added!",onClose:n})}var ve=n(199),pe=n(200),Oe=n(197),me=function(){var e=Object(u.c)((function(e){return e.form.data.status})),t=Object(u.b)(),n=function(){return t(K())};return Object(r.jsxs)(ve.a,{children:[Object(r.jsx)(pe.a,{}),Object(r.jsxs)(te.a,{display:"flex",flexDirection:"column",alignItems:"center",pt:"15vh",children:[Object(r.jsx)(Oe.a,{variant:"h3",gutterBottom:!0,children:"Event"}),Object(r.jsx)(re,{})]}),Object(r.jsx)(se,{open:e===B}),Object(r.jsx)(je,{isOpen:e===W,onClose:n}),Object(r.jsx)(be,{isOpen:e===J,onClose:n})]})},xe=n(26),he=Object(l.a)({reducer:{form:Object(xe.c)({data:Q,valid:p})}});s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u.a,{store:he,children:Object(r.jsx)(me,{})})}),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.ca2b1d8e.chunk.js.map